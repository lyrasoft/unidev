"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}$(function(){Phoenix.plugin("gregwar",function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.$element=t,this.options=n,this.$image=this.$element.find("[data-captcha-image]"),this.$input=this.$element.find("[data-captcha-input]"),this.$refreshButton=this.$element.find("[data-captcha-refresh]"),this.$buttonIcon=this.$element.find("[data-refresh-icon]"),this.bindEvents()}return _createClass(e,[{key:"bindEvents",value:function(){var e=this;this.$refreshButton.on("click",function(){e.refresh()})}},{key:"refresh",value:function(){var e=this;this.$buttonIcon.addClass("fa-spin");var t=this.$image.attr("data-image"),n=(new Date).getTime().toString()+"."+1e4*Math.random();-1!==t.indexOf("?")?t+="&t="+n:t+="?t="+n,this.$image.one("load",function(){e.$buttonIcon.removeClass("fa-spin"),e.$input.val("")}),this.$image.attr("src",t)}},{key:"clear",value:function(){this.$input.val("")}}]),e}())});