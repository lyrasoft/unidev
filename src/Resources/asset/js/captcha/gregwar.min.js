"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}$(function(){Phoenix.plugin("gregwar",function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.$element=e,this.options=n,this.$image=this.$element.find("[data-captcha-image]"),this.$input=this.$element.find("[data-captcha-input]"),this.$refreshButton=this.$element.find("[data-captcha-refresh]"),this.$buttonIcon=this.$element.find("[data-refresh-icon]"),this.bindEvents()}return _createClass(t,[{key:"bindEvents",value:function(){var t=this;this.$refreshButton.on("click",function(){t.refresh()})}},{key:"refresh",value:function(){var t=this;this.$buttonIcon.addClass("fa-spin");var e=this.$image.attr("data-image"),n=(new Date).getTime().toString()+"."+1e4*Math.random();-1!==e.indexOf("?")?e+="&t="+n:e+="?t="+n,this.$image.one("load",function(){t.$buttonIcon.removeClass("fa-spin"),t.$input.val("")}),this.$image.attr("src",e)}},{key:"clear",value:function(){this.$input.val("")}}]),t}())});